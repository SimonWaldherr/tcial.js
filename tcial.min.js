/* * * * * * * * * *
 *    tcial .js    *
 *  Version 0.1.3  *
 *  License:  MIT  *
 * Simon  Waldherr *
 * * * * * * * * * */

var tcial={};tcial={mode:0,other:{esc:void 0!==window.escape?window.escape:encodeURIComponent,unesc:void 0!==window.unescape?window.unescape:decodeURIComponent,htmldecode:function(a){"use strict";var b=document.createElement("div");return b.innerHTML=a,a=b.innerText||b.textContent,b=void 0,a},htmlencode:function(a){"use strict";var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),a=b.innerHTML,b=void 0,a},cookieEnabled:function(){"use strict";var a;return navigator.cookieEnabled?!0:(document.cookie="cookietest=1",a=-1!==document.cookie.indexOf("cookietest="),document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",a)},setTcialMode:function(){"use strict";tcial.mode=void 0!==localStorage.getItem?1:tcial.other.cookieEnabled()?2:3}},cookie:{get:function(a){"use strict";var b;return a&&tcial.cookie.has(a)?(b=document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+tcial.other.esc(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"),tcial.other.unesc(b)):null},set:function(a,b,c,d,e,f){"use strict";if(a&&!/^(?:expires|max\-age|path|domain|secure)$/.test(a)){var g="";if(c)switch(typeof c){case"number":g="; max-age="+c;break;case"string":g="; expires="+c;break;case"object":c.hasOwnProperty("toGMTString")&&(g="; expires="+c.toGMTString())}void 0===d&&(d="/"),document.cookie=window.escape(a)+"="+window.escape(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":"")}},remove:function(a){"use strict";a&&tcial.cookie.has(a)&&tcial.cookie.set(a,"","Thu, 01-Jan-1970 00:00:01 GMT")},has:function(a){"use strict";return new RegExp("(?:^|;\\s*)"+window.escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},list:function(){"use strict";var a,b,c=document.cookie.split(";"),d=c.length,e=[];for(b=0;d>b;b++)a=c[b].split("=",2),void 0!==a[1]&&(e[b]={},e[b].key=a[0],e[b].value=a[1]);return e}},localstorage:{has:function(a){"use strict";return null===localStorage.getItem(a)?!1:!0},list:function(){"use strict";var a,b=[],c=localStorage.length;if(0===c)return b;for(a=0;c>a;a++)b[a]={},b[a].key=localStorage.key(a),b[a].value=localStorage.getItem(localStorage.key(a));return b}},urlhash:{fromHash:function(){"use strict";var a,b,c=window.location.hash?window.location.hash.substr(1).split("&"):[],d={};for(a=0;a<c.length;a++)b=c[a].split("="),d[b[0]]=decodeURIComponent(b[1]);return d},toHash:function(a){"use strict";var b,c=[];for(b in a)c.push(b+"="+encodeURIComponent(a[b]));window.location.hash=c.join("&")},get:function(a){"use strict";var b,c,d=tcial.urlhash.fromHash(),e=[];if(a)return d[a];c=0;for(b in d)e[c]={},e[c].key=b,e[c].value=d[b],c++;return e},setObject:function(a){"use strict";var b,c=tcial.urlhash.fromHash();for(b in a)c[b]=a[b];tcial.urlhash.toHash(c)},set:function(a,b){"use strict";var c=tcial.urlhash.fromHash();c[a]=b,tcial.urlhash.toHash(c)},remove:function(a){"use strict";var b,c=tcial.urlhash.fromHash();for(a="string"==typeof a?[a]:a,b=0;b<a.length;b++)delete c[a[b]];tcial.urlhash.toHash(c)},has:function(a){"use strict";var b=tcial.urlhash.fromHash();return-1!==b.keys.indexOf(a)?!0:!1},clear:function(){"use strict";tcial.urlhash.toHash({})}},getItem:function(a){"use strict";switch(tcial.mode){case 0:return tcial.other.setTcialMode(),tcial.getItem(a);case 1:return localStorage.getItem(a);case 2:return tcial.cookie.get(a);case 3:return tcial.urlhash.get(a)}},setItem:function(a,b,c,d,e,f){"use strict";switch(tcial.mode){case 0:return tcial.other.setTcialMode(),tcial.setItem(a,b,c,d,e,f);case 1:return localStorage.setItem(a,b);case 2:return tcial.cookie.set(a,b,c,d,e,f);case 3:return tcial.urlhash.set(a,b)}},hasItem:function(a){"use strict";switch(tcial.mode){case 0:return tcial.other.setTcialMode(),tcial.hasItem(a);case 1:return tcial.localstorage.has(a);case 2:return tcial.cookie.has(a);case 3:return tcial.urlhash.has(a)}},removeItem:function(a){"use strict";switch(tcial.mode){case 0:return tcial.other.setTcialMode(),tcial.removeItem(a);case 1:return localStorage.removeItem(a);case 2:return tcial.cookie.remove(a);case 3:return tcial.urlhash.remove(a)}},listItems:function(){"use strict";switch(tcial.mode){case 0:return tcial.other.setTcialMode(),tcial.listItems();case 1:return tcial.localstorage.list();case 2:return tcial.cookie.list();case 3:return tcial.urlhash.get()}},clearItems:function(){"use strict";switch(tcial.mode){case 0:return tcial.other.setTcialMode(),tcial.clearItems();case 1:break;case 2:break;case 3:}}};

 /* the cake is a lie, but the cookie isn't */
